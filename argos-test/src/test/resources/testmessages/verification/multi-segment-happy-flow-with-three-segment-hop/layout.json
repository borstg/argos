{
  "layout": {
    "authorizedKeyIds": [
      "c8df0a497ab0df7136c4f97892f17914e6e5e021fdc039f0ea7c27d5a95c1254"
    ],
    "expectedEndProducts": [
      {
        "pattern": "target/argos-test-0.0.1-SNAPSHOT.jar",
        "destinationType": "PRODUCTS",
        "destinationStepName": "build segment 1",
        "destinationSegmentName": "segment 1"
      }
    ],
    "layoutSegments": [
      {
        "name": "segment 1",
        "steps": [
          {
            "name": "build segment 1",
            "authorizedKeyIds": [
              "56c7d930998b6039a925d5dee95f1349f53fc51e9bcdfcd7d50ecb58a9201a12"
            ],
            "requiredNumberOfLinks": 1,
            "expectedCommand": [
              "expectedCommand 1",
              "expectedCommand 2"
            ],
            "expectedMaterials": [
              {
                "ruleType": "MATCH",
                "pattern": "**/argos-frontend.jar",
                "destinationType": "PRODUCTS",
                "destinationStepName": "build segment 2",
                "destinationSegmentName": "segment 2"
              },
              {
                "ruleType": "REQUIRE",
                "pattern": "**Argos4jIT.java"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ],
            "expectedProducts": [
              {
                "ruleType": "MODIFY",
                "pattern": "target/maven-archiver/pom.properties"
              },
              {
                "ruleType": "CREATE",
                "pattern": "target/argos-test-0.0.1-SNAPSHOT.jar"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              },
              {
                "ruleType": "DELETE",
                "pattern": "**/*.java"
              }
            ]
          },
          {
            "name": "test segment 1",
            "authorizedKeyIds": [
              "56c7d930998b6039a925d5dee95f1349f53fc51e9bcdfcd7d50ecb58a9201a12"
            ],
            "requiredNumberOfLinks": 1,
            "expectedCommand": [
              "stepName2 expectedCommand"
            ],
            "expectedMaterials": [
              {
                "ruleType": "DISALLOW",
                "pattern": "**/invalid-link.json"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ],
            "expectedProducts": [
              {
                "ruleType": "MATCH",
                "pattern": "argos-test-0.0.1-SNAPSHOT.jar",
                "sourcePathPrefix": "",
                "destinationPathPrefix": "target/",
                "destinationType": "PRODUCTS",
                "destinationStepName": "build segment 1",
                "destinationSegmentName": "segment 1"
              },
              {
                "ruleType": "REQUIRE",
                "pattern": "**Argos4jIT.java"
              },
              {
                "ruleType": "DISALLOW",
                "pattern": "**/bob"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ]
          }
        ]
      },
      {
        "name": "segment 2",
        "steps": [
          {
            "name": "build segment 2",
            "authorizedKeyIds": [
              "a97daeaf3afaed859472a367da7a860b4b90eefb97fe51384bd45e9eed020b5b"
            ],
            "requiredNumberOfLinks": 1,
            "expectedCommand": [
              "expectedCommand 1",
              "expectedCommand 2"
            ],
            "expectedMaterials": [
              {
                "ruleType": "MATCH",
                "pattern": "**/welcome.html",
                "destinationType": "PRODUCTS",
                "destinationStepName": "build segment 3",
                "destinationSegmentName": "segment 3"
              },
              {
                "ruleType": "REQUIRE",
                "pattern": "**Argos4jIT.java"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ],
            "expectedProducts": [
              {
                "ruleType": "MODIFY",
                "pattern": "target/maven-archiver/pom.properties"
              },
              {
                "ruleType": "CREATE",
                "pattern": "target/argos-frontend.jar"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              },
              {
                "ruleType": "DELETE",
                "pattern": "**/*.java"
              }
            ]
          },
          {
            "name": "test segment 2",
            "authorizedKeyIds": [
              "a97daeaf3afaed859472a367da7a860b4b90eefb97fe51384bd45e9eed020b5b"
            ],
            "requiredNumberOfLinks": 1,
            "expectedCommand": [
              "stepName2 expectedCommand"
            ],
            "expectedMaterials": [
              {
                "ruleType": "DISALLOW",
                "pattern": "**/invalid-link.json"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ],
            "expectedProducts": [
              {
                "ruleType": "MATCH",
                "pattern": "argos-frontend.jar",
                "sourcePathPrefix": "",
                "destinationPathPrefix": "target/",
                "destinationType": "PRODUCTS",
                "destinationStepName": "build segment 2",
                "destinationSegmentName": "segment 2"
              },
              {
                "ruleType": "REQUIRE",
                "pattern": "**Argos4jIT.java"
              },
              {
                "ruleType": "DISALLOW",
                "pattern": "**/bob"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ]
          }
        ]
      },
      {
        "name": "segment 3",
        "steps": [
          {
            "name": "build segment 3",
            "authorizedKeyIds": [
              "56c7d930998b6039a925d5dee95f1349f53fc51e9bcdfcd7d50ecb58a9201a12"
            ],
            "requiredNumberOfLinks": 1,
            "expectedCommand": [
              "expectedCommand 1",
              "expectedCommand 2"
            ],
            "expectedMaterials": [
              {
                "ruleType": "REQUIRE",
                "pattern": "**Argos4jIT.java"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ],
            "expectedProducts": [
              {
                "ruleType": "MODIFY",
                "pattern": "target/maven-archiver/pom.properties"
              },
              {
                "ruleType": "CREATE",
                "pattern": "target/argos-test-0.0.1-SNAPSHOT.jar"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              },
              {
                "ruleType": "DELETE",
                "pattern": "**/*.java"
              }
            ]
          },
          {
            "name": "test segment 3",
            "authorizedKeyIds": [
              "56c7d930998b6039a925d5dee95f1349f53fc51e9bcdfcd7d50ecb58a9201a12"
            ],
            "requiredNumberOfLinks": 1,
            "expectedCommand": [
              "stepName2 expectedCommand"
            ],
            "expectedMaterials": [
              {
                "ruleType": "DISALLOW",
                "pattern": "**/invalid-link.json"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ],
            "expectedProducts": [
              {
                "ruleType": "MATCH",
                "pattern": "argos-test-0.0.1-SNAPSHOT.jar",
                "sourcePathPrefix": "",
                "destinationPathPrefix": "target/",
                "destinationType": "PRODUCTS",
                "destinationStepName": "build segment 1",
                "destinationSegmentName": "segment 1"
              },
              {
                "ruleType": "REQUIRE",
                "pattern": "**Argos4jIT.java"
              },
              {
                "ruleType": "DISALLOW",
                "pattern": "**/bob"
              },
              {
                "ruleType": "ALLOW",
                "pattern": "**"
              }
            ]
          }
        ]
      }
    ]
  }
}